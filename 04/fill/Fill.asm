(ON)
@8192
D=A
@COUNTER
M=D

(LOOP)

@KBD
D=M
@OFF
D;JEQ

@COUNTER
M=M-1
@COUNTER
D=M
@NEWCOUNTER
M=D
@16384
D=A
@NEWCOUNTER
D=M+D
A=D
M=-1



@COUNTER
D=M

@LOOP
D;JNE
@OFF
0;JMP




(OFF)
@8192
D=A
@COUNTER
M=D

(LOOPS)

@KBD
D=M
@ON
D;JNE
@COUNTER
M=M-1
@COUNTER
D=M
@NEWCOUNTER
M=D
@16384
D=A
@NEWCOUNTER
D=M+D
A=D
M=0

@COUNTER
D=M

@LOOPS
D;JNE


@ON
0;JMP

