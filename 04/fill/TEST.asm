@8192
D=A
@COUNTER
M=D



(LOOP)

@KBD
D=M
@OFF
D;JEQ

@COUNTER
D=M
@NEWCOUNTER
M=D
@16384
D=A
@NEWCOUNTER
D=M+D
A=D
M=-1


@COUNTER
M=M-1
@COUNTER
D=M

@LOOP
D;JNE


@8192
D=A
@COUNTER
M=D


(OFF)

(LOOPS)

@KBD
D=M
@ON
D;JNQ

@COUNTER
D=M
@NEWCOUNTER
M=D
@16384
D=A
@NEWCOUNTER
D=M+D
A=D
M=0


@COUNTER
M=M-1
@COUNTER
D=M

@LOOPS
D;JNE